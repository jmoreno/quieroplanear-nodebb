!function(t){"object"==typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd&&define(t)}(function(){function a(t,e,n,s,o){return(n(e&&e.isValid)?'\n\t<div class="top-tool-box">\n\t\t<a href="" class=\'need-more-share2\'\n\t\t    data-shareUrl=\''+t.__escape(n(e&&e.redirect_url))+'\'\n\t\t    title="Share"\n\t\t>\n\t\t\t<i class="i-share icon-share" aria-hidden="true"></i>\n\t\t</a>\n\n\t\t<a component="post/bookmark" style="color: inherit; text-decoration: none;" title="Mark">\n\t\t\t<i class="i-bookmark icon-bookmark"></i>\n\t\t</a>\n\t\t<a component="post/upvote" style="color: inherit; text-decoration: none; margin-right: 5px;" title="Upvote">\n\t\t\t<i class="i-upvote icon-thumbs-up-alt"></i>\n\t\t\t<span class="upvote-count">\n\t\t\t</span>\n\t\t</a>\n\t</div>\n\t'+(n(e&&e.atTop)?'\n\t\t<div class="topic-profile-pic user first-image">\n\n\t\t\t'+(n(e&&e.isLoggedIn)?"\n\t\t\t\t"+(n(e&&e.user&&e.user.picture)?'\n\t\t\t\t<img data-uid="'+t.__escape(n(e&&e.user&&e.user.uid))+'" src="'+t.__escape(n(e&&e.user&&e.user.picture))+'" class="profile-image" title="'+t.__escape(n(e&&e.user&&e.user.username))+'" />\n\t\t\t\t':'\n\t\t\t\t<div class="profile-image" style="background-color: '+t.__escape(n(e&&e.user&&e.user["icon:bgColor"]))+';" title="'+t.__escape(n(e&&e.user&&e.user.username))+'">'+t.__escape(n(e&&e.user&&e.user["icon:text"]))+"</div>\n\t\t\t\t")+"\n\t\t\t":'\n\t\t\t\t<img src="https://1.gravatar.com/avatar/177d180983be7a2c95a4dbe7451abeba?s=95&d=&r=PG" class="profile-image" />\n\t\t\t')+'\n\t\t</div>\n\n\t\t<form action="'+t.__escape(n(e&&e.relative_path))+'/comments/reply" class="clearfix" method="post">\n\t\t\t<textarea id="nodebb-content" class="form-control" name="content" placeholder="Join the conversation" rows="3"></textarea>\n\t\t'+(n(e&&e.isLoggedIn)?"\n\t\t\t<small>Signed in as <strong>"+t.__escape(n(e&&e.user&&e.user.username))+'</strong>. <strong id="nodebb-error"></strong></small>\n\t\t\t<button class="btn btn-primary">Post a Reply</button>\n\t\t\t<input type="hidden" name="_csrf" value="'+t.__escape(n(e&&e.token))+'" />\n\t\t\t<input type="hidden" name="tid" value="'+t.__escape(n(e&&e.tid))+'" />\n\t\t\t<input type="hidden" name="url" value="'+t.__escape(n(e&&e.redirect_url))+'" />\n\t\t</form>\n\t\t<br />\n\t\t':'\n\t\t</form>\n\t\t<button class="btn btn-primary" id="nodebb-register">Register</button>\n\t\t<button class="btn btn-primary" id="nodebb-login">Login</button>\n\n\t\t\x3c!-- This button is here just for making the css margin right --\x3e\n\t\t<button style="visibility: hidden; padding-top: 8px;"> </button>\n\n\t\t')+"\n\t":"")+'\n\n\t<ul id="nodebb-comments-list" data-mainpid="'+t.__escape(n(e&&e.mainPost&&e.mainPost.pid))+'">\n\t\t'+a.blocks.posts(t,e,n,s,o)+"\n\t</ul>\n\t<br />\n\n\t"+(n(e&&e.atBottom)?'\n\t\t<div class="topic-profile-pic user">\n\t\t\t'+(n(e&&e.isLoggedIn)?'\n\t\t\t<img src="'+t.__escape(n(e&&e.user&&e.user.picture))+'" class="profile-image" />\n\t\t\t':'\n\t\t\t<img src="http://1.gravatar.com/avatar/177d180983be7a2c95a4dbe7451abeba?s=95&d=&r=PG" class="profile-image" />\n\t\t\t')+'\n\t\t</div>\n\t\t<form action="'+t.__escape(n(e&&e.relative_path))+'/comments/reply" method="post">\n\t\t\t<textarea id="nodebb-content" class="form-control" name="content" placeholder="Join the conversation" rows="3"></textarea>\n\t\t'+(n(e&&e.isLoggedIn)?"\n\t\t\t<small>Signed in as <strong>"+t.__escape(n(e&&e.user&&e.user.username))+'</strong>. <strong id="nodebb-error"></strong></small>\n\t\t\t<button class="btn btn-primary">Post a Reply</button>\n\t\t\t<input type="hidden" name="_csrf" value="'+t.__escape(n(e&&e.token))+'" />\n\t\t\t<input type="hidden" name="tid" value="'+t.__escape(n(e&&e.tid))+'" />\n\t\t\t<input type="hidden" name="url" value="'+t.__escape(n(e&&e.redirect_url))+'" />\n\t\t</form>\n\t\t':'\n\t\t</form>\n\t\t<button class="btn btn-primary" id="nodebb-register">Register</button>\n\t\t<button class="btn btn-primary" id="nodebb-login">Login</button>\n\n\t\t\x3c!-- This button is here just for making the css margin right --\x3e\n\t\t<button style="visibility: hidden; padding-top: 8px;"> </button>\n\n\t\t')+"\n\t":"")+'\n\n\t<small class="nodebb-copyright">Powered by <a href="'+t.__escape(n(e&&e.relative_path))+'" target="_blank">'+t.__escape(n(e&&e.siteTitle))+'</a> &bull; <a href="'+t.__escape(n(e&&e.relative_path))+"/topic/"+t.__escape(n(e&&e.tid))+'">View original thread</a></small>\n\t<button class="btn btn-primary" '+(n(e&&e.posts&&e.posts.length)?"":'style="display: none"')+' id="nodebb-load-more">Load more comments...</button>\n':"\n\t"+t.__escape(n(e&&e.siteTitle))+" Commenting has been disabled.\n\t"+(n(e&&e.isAdmin)?'\n\t<form action="'+t.__escape(n(e&&e.relative_path))+'/comments/publish" method="post">\n\t\t<button class="btn btn-primary">Publish this article to '+t.__escape(n(e&&e.siteTitle))+'</button>\n\t\t<input type="hidden" name="markdown" id="nodebb-content-markdown" />\n\t\t<input type="hidden" name="title" id="nodebb-content-title" />\n\t\t<input type="hidden" name="cid" id="nodebb-content-cid" />\n\t\t<input type="hidden" name="blogger" id="nodebb-content-blogger" />\n\t\t<input type="hidden" name="tags" id="nodebb-content-tags" />\n\t\t<input type="hidden" name="id" value="'+t.__escape(n(e&&e.article_id))+'" />\n\t\t<input type="hidden" name="url" value="'+t.__escape(n(e&&e.redirect_url))+'" />\n\t\t<input type="hidden" name="_csrf" value="'+t.__escape(n(e&&e.token))+'" />\n\t</form>\n\t':"")+"\n")+"\n"}return a.blocks={posts:function(s,o,a,t,e){return t(a(o&&o.posts),function(t,e,n){return"\n\t\t<li "+(a(o&&o.pagination)?' class="nodebb-post-fadein" ':"")+" "+(a(o&&o.posts&&o.posts[t]&&o.posts[t].index)?"":' class="nodebb-post-fadein" ')+' >\n\t\t\t<div class="topic-item" data-pid="'+s.__escape(a(o&&o.posts&&o.posts[t]&&o.posts[t].pid))+'" data-userslug="'+s.__escape(a(o&&o.user&&o.user.userslug))+'" data-uid="'+s.__escape(a(o&&o.posts&&o.posts[t]&&o.posts[t].uid))+'">\n\t\t\t\t<div class="topic-body">\n\t\t\t\t\t<div class="topic-profile-pic">\n\t\t\t\t\t\t<a href="'+s.__escape(a(o&&o.relative_path))+"/user/"+s.__escape(a(o&&o.user&&o.user.userslug))+'">\n\t\t\t\t\t\t\t'+(a(o&&o.user&&o.user.picture)?'\n\t\t\t\t\t\t\t<img src="'+s.__escape(a(o&&o.user&&o.user.picture))+'" alt="'+s.__escape(a(o&&o.user&&o.user.username))+'" class="profile-image" title="'+s.__escape(a(o&&o.user&&o.user.username))+'">\n\t\t\t\t\t\t\t':'\n\t\t\t\t\t\t\t<div class="profile-image" style="background-color: '+s.__escape(a(o&&o.user&&o.user["icon:bgColor"]))+'" title="'+s.__escape(a(o&&o.user&&o.user.username))+'" alt="'+s.__escape(a(o&&o.user&&o.user.username))+'">'+s.__escape(a(o&&o.user&&o.user["icon:text"]))+"</div>\n\t\t\t\t\t\t\t")+'\n\t\t\t\t\t\t</a>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="topic-text">\n\t\t\t\t\t\t<div class="post-content" itemprop="text">\n\t\t\t\t\t\t\t<small>\n\t\t\t\t\t\t\t\t<span class="nodebb-post-tools post-tools no-select">\n\t\t\t\t\t\t\t\t\t<a component="post/reply" style="color: inherit; text-decoration: none;" title="Reply">\n\t\t\t\t\t\t\t\t\t\t<i class="icon-reply"></i>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t<a component="post/quote" style="color: inherit; text-decoration: none;" title="Quote">\n\t\t\t\t\t\t\t\t\t\t<i class="icon-quote-right"></i>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t<a component="post/bookmark" data-bookmarked="'+s.__escape(a(o&&o.posts&&o.posts[t]&&o.posts[t].bookmarked))+'" style="color: inherit; text-decoration: none;" title="Mark">\n\t\t\t\t\t\t\t\t\t\t<i class="i-bookmark '+(a(o&&o.posts&&o.posts[t]&&o.posts[t].bookmarked)?" icon-bookmark ":" icon-bookmark-empty ")+'"></i>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t<a component="post/upvote" data-upvoted="'+s.__escape(a(o&&o.posts&&o.posts[t]&&o.posts[t].upvoted))+'" date-votes="'+s.__escape(a(o&&o.posts&&o.posts[t]&&o.posts[t].votes))+'" style="color: inherit; text-decoration: none; margin-right: 5px;" title="Upvote">\n\t\t\t\t\t\t\t\t\t\t<i class="i-upvote '+(a(o&&o.posts&&o.posts[t]&&o.posts[t].upvoted)?" icon-thumbs-up-alt ":" icon-thumbs-up ")+'"></i>\n\t\t\t\t\t\t\t\t\t\t<span class="upvote-count '+(a(o&&o.posts&&o.posts[t]&&o.posts[t].votes)?"":" hidden ")+'">\n\t\t\t\t\t\t\t\t\t\t\t'+s.__escape(a(o&&o.posts&&o.posts[t]&&o.posts[t].votes))+'\n\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t\x3c!-- <a component="post/quote"><i class="fa fa-quote-left"></i> quote</a> --\x3e\n\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t<a href="'+s.__escape(a(o&&o.relative_path))+"/user/"+s.__escape(a(o&&o.user&&o.user.userslug))+'" style="color: inherit; text-decoration: none;"><strong>'+s.__escape(a(o&&o.user&&o.user.username))+'</strong></a>\n\t\t\t\t\t\t\t\t<span title="'+s.__escape(a(o&&o.posts&&o.posts[t]&&o.posts[t].timestampISO))+'">commented '+s.__escape(a(o&&o.posts&&o.posts[t]&&o.posts[t].timestamp))+"</span>\n\t\t\t\t\t\t\t\t"+(a(o&&o.posts&&o.posts[t]&&o.posts[t].isReply)?"\n\t\t\t\t\t\t\t\t"+(a(o&&o.posts&&o.posts[t]&&o.posts[t].deletedReply)?"":'\n\t\t\t\t\t\t\t\t\t<button component="post/parent" class="reply-label no-select" data-topid="'+s.__escape(a(o&&o.posts&&o.posts[t]&&o.posts[t].toPid))+'">\n\t\t\t\t\t\t\t\t\t\t<i class="icon-reply"></i> @'+s.__escape(a(o&&o.posts&&o.posts[t]&&o.posts[t].parentUsername))+"\n\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t")+"\n\t\t\t\t\t\t\t\t":"")+'\n\t\t\t\t\t\t\t</small>\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t<div class="post-body">'+s.__escape(a(o&&o.posts&&o.posts[t]&&o.posts[t].content))+'</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<form action="'+s.__escape(a(o&&o.relative_path))+'/comments/reply" method="post" class="sub-reply-input hidden">\n \t\t\t\t\t<textarea id="nodebb-content" class="form-control" name="content" placeholder="Join the conversation" rows="3"></textarea>\n \t\t\t\t\t<button class="btn btn-primary">Reply to '+s.__escape(a(o&&o.user&&o.user.username))+'</button>\n \t\t\t\t\t<input type="hidden" name="_csrf" value="'+s.__escape(a(o&&o.token))+'" />\n \t\t\t\t\t<input type="hidden" name="tid" value="'+s.__escape(a(o&&o.tid))+'" />\n \t\t\t\t\t<input type="hidden" name="toPid" value="'+s.__escape(a(o&&o.posts&&o.posts[t]&&o.posts[t].pid))+'" />\n \t\t\t\t\t<input type="hidden" name="url" value="'+s.__escape(a(o&&o.redirect_url))+'" />\n \t\t\t\t</form>\n\t\t\t</div>\n\t\t</li>\n\t\t'})}},a});