!function(o){"object"==typeof module&&module.exports?module.exports=o():"function"==typeof define&&define.amd&&define(o)}(function(){function t(o,s,r,m,e){o.__escape;return r(s&&s.rooms&&s.rooms.length)?"\n"+t.blocks.rooms(o,s,r,m,e)+"\n":'\n<li class="no_active"><a href="#">[[modules:chat.no_active]]</a></li>\n'}return t.blocks={rooms:function(o,t,u,m,s){var n=o.__escape;return m(u(t&&t.rooms),function(e,o,s,r){return'\n<li class="'+(u(t&&t.rooms&&t.rooms[e]&&t.rooms[e].unread)?"unread":"")+'" data-roomid="'+n(u(t&&t.rooms&&t.rooms[e]&&t.rooms[e].roomId))+'">\n\t<strong class="room-name">\n\t\t'+(u(t&&t.rooms&&t.rooms[e]&&t.rooms[e].lastUser&&t.rooms[e].lastUser.uid)?"\n\t\t"+(u(t&&t.rooms&&t.rooms[e]&&t.rooms[e].roomName)?n(u(t&&t.rooms&&t.rooms[e]&&t.rooms[e].roomName)):n(u(t&&t.rooms&&t.rooms[e]&&t.rooms[e].usernames)))+"\n\t\t":"\n\t\t<span>[[modules:chat.no-users-in-room]]</span>\n\t\t")+'\n\t</strong>\n\t<div class="avatar-placeholder"></div>\n\t'+(u(t&&t.rooms&&t.rooms[e]&&t.rooms[e].rooms&&t.rooms[e].rooms.users)?m(u(t&&t.rooms&&t.rooms[e]&&t.rooms[e].rooms&&t.rooms[e].rooms.users),function(o,s,r,m){return"\n\t"+(0===s?'\n\t<div class="main-avatar">\n\t\t<a href="'+n(u(t&&t.config&&t.config.relative_path))+"/user/"+n(u(t&&t.rooms&&t.rooms[e]&&t.rooms[e].rooms&&t.rooms[e].rooms.users&&t.rooms[e].rooms.users[o]&&t.rooms[e].rooms.users[o].userslug))+'">\n\t'+(u(t&&t.rooms&&t.rooms[e]&&t.rooms[e].rooms&&t.rooms[e].rooms.users&&t.rooms[e].rooms.users[o]&&t.rooms[e].rooms.users[o].picture)?'\n\t<img class="user-img avatar avatar-sm avatar-rounded" src="'+n(u(t&&t.rooms&&t.rooms[e]&&t.rooms[e].rooms&&t.rooms[e].rooms.users&&t.rooms[e].rooms.users[o]&&t.rooms[e].rooms.users[o].picture))+'" title="'+n(u(t&&t.rooms&&t.rooms[e]&&t.rooms[e].rooms&&t.rooms[e].rooms.users&&t.rooms[e].rooms.users[o]&&t.rooms[e].rooms.users[o].username))+'">\n\t':'\n\t<div class="user-img avatar avatar-sm avatar-rounded" title="'+n(u(t&&t.rooms&&t.rooms[e]&&t.rooms[e].rooms&&t.rooms[e].rooms.users&&t.rooms[e].rooms.users[o]&&t.rooms[e].rooms.users[o].username))+'" style="background-color: '+n(u(t&&t.rooms&&t.rooms[e]&&t.rooms[e].rooms&&t.rooms[e].rooms.users&&t.rooms[e].rooms.users[o]&&t.rooms[e].rooms.users[o]["icon:bgColor"]))+';">'+n(u(t&&t.rooms&&t.rooms[e]&&t.rooms[e].rooms&&t.rooms[e].rooms.users&&t.rooms[e].rooms.users[o]&&t.rooms[e].rooms.users[o]["icon:text"]))+"</div>\n\t")+"\n</a>\n\t</div>\n\t":"")+"\n\t"},function(){return""}):m(u(t&&t.rooms&&t.rooms[e]&&t.rooms[e].users),function(o,s,r,m){return"\n\t"+(0===s?'\n\t<div class="main-avatar">\n\t\t<a href="'+n(u(t&&t.config&&t.config.relative_path))+"/user/"+n(u(t&&t.rooms&&t.rooms[e]&&t.rooms[e].users&&t.rooms[e].users[o]&&t.rooms[e].users[o].userslug))+'">\n\t'+(u(t&&t.rooms&&t.rooms[e]&&t.rooms[e].users&&t.rooms[e].users[o]&&t.rooms[e].users[o].picture)?'\n\t<img class="user-img avatar avatar-sm avatar-rounded" src="'+n(u(t&&t.rooms&&t.rooms[e]&&t.rooms[e].users&&t.rooms[e].users[o]&&t.rooms[e].users[o].picture))+'" title="'+n(u(t&&t.rooms&&t.rooms[e]&&t.rooms[e].users&&t.rooms[e].users[o]&&t.rooms[e].users[o].username))+'">\n\t':'\n\t<div class="user-img avatar avatar-sm avatar-rounded" title="'+n(u(t&&t.rooms&&t.rooms[e]&&t.rooms[e].users&&t.rooms[e].users[o]&&t.rooms[e].users[o].username))+'" style="background-color: '+n(u(t&&t.rooms&&t.rooms[e]&&t.rooms[e].users&&t.rooms[e].users[o]&&t.rooms[e].users[o]["icon:bgColor"]))+';">'+n(u(t&&t.rooms&&t.rooms[e]&&t.rooms[e].users&&t.rooms[e].users[o]&&t.rooms[e].users[o]["icon:text"]))+"</div>\n\t")+"\n</a>\n\t</div>\n\t":"")+"\n\t"},function(){return""}))+'\n\n\t<ul class="members">\n\t\t'+(u(t&&t.rooms&&t.rooms[e]&&t.rooms[e].rooms&&t.rooms[e].rooms.users)?m(u(t&&t.rooms&&t.rooms[e]&&t.rooms[e].rooms&&t.rooms[e].rooms.users),function(o,s,r,m){return'\n\t\t<li>\n\t\t\t<a href="'+n(u(t&&t.config&&t.config.relative_path))+"/user/"+n(u(t&&t.rooms&&t.rooms[e]&&t.rooms[e].rooms&&t.rooms[e].rooms.users&&t.rooms[e].rooms.users[o]&&t.rooms[e].rooms.users[o].userslug))+'">\n\t'+(u(t&&t.rooms&&t.rooms[e]&&t.rooms[e].rooms&&t.rooms[e].rooms.users&&t.rooms[e].rooms.users[o]&&t.rooms[e].rooms.users[o].picture)?'\n\t<img class="user-img avatar avatar-sm avatar-rounded" src="'+n(u(t&&t.rooms&&t.rooms[e]&&t.rooms[e].rooms&&t.rooms[e].rooms.users&&t.rooms[e].rooms.users[o]&&t.rooms[e].rooms.users[o].picture))+'" title="'+n(u(t&&t.rooms&&t.rooms[e]&&t.rooms[e].rooms&&t.rooms[e].rooms.users&&t.rooms[e].rooms.users[o]&&t.rooms[e].rooms.users[o].username))+'">\n\t':'\n\t<div class="user-img avatar avatar-sm avatar-rounded" title="'+n(u(t&&t.rooms&&t.rooms[e]&&t.rooms[e].rooms&&t.rooms[e].rooms.users&&t.rooms[e].rooms.users[o]&&t.rooms[e].rooms.users[o].username))+'" style="background-color: '+n(u(t&&t.rooms&&t.rooms[e]&&t.rooms[e].rooms&&t.rooms[e].rooms.users&&t.rooms[e].rooms.users[o]&&t.rooms[e].rooms.users[o]["icon:bgColor"]))+';">'+n(u(t&&t.rooms&&t.rooms[e]&&t.rooms[e].rooms&&t.rooms[e].rooms.users&&t.rooms[e].rooms.users[o]&&t.rooms[e].rooms.users[o]["icon:text"]))+"</div>\n\t")+"\n</a>\n\t\t</li>\n\t\t"},function(){return""}):m(u(t&&t.rooms&&t.rooms[e]&&t.rooms[e].users),function(o,s,r,m){return'\n\t\t<li>\n\t\t\t<a href="'+n(u(t&&t.config&&t.config.relative_path))+"/user/"+n(u(t&&t.rooms&&t.rooms[e]&&t.rooms[e].users&&t.rooms[e].users[o]&&t.rooms[e].users[o].userslug))+'">\n\t'+(u(t&&t.rooms&&t.rooms[e]&&t.rooms[e].users&&t.rooms[e].users[o]&&t.rooms[e].users[o].picture)?'\n\t<img class="user-img avatar avatar-sm avatar-rounded" src="'+n(u(t&&t.rooms&&t.rooms[e]&&t.rooms[e].users&&t.rooms[e].users[o]&&t.rooms[e].users[o].picture))+'" title="'+n(u(t&&t.rooms&&t.rooms[e]&&t.rooms[e].users&&t.rooms[e].users[o]&&t.rooms[e].users[o].username))+'">\n\t':'\n\t<div class="user-img avatar avatar-sm avatar-rounded" title="'+n(u(t&&t.rooms&&t.rooms[e]&&t.rooms[e].users&&t.rooms[e].users[o]&&t.rooms[e].users[o].username))+'" style="background-color: '+n(u(t&&t.rooms&&t.rooms[e]&&t.rooms[e].users&&t.rooms[e].users[o]&&t.rooms[e].users[o]["icon:bgColor"]))+';">'+n(u(t&&t.rooms&&t.rooms[e]&&t.rooms[e].users&&t.rooms[e].users[o]&&t.rooms[e].users[o]["icon:text"]))+"</div>\n\t")+"\n</a>\n\t\t</li>\n\t\t"},function(){return""}))+'\n\t</ul>\n\n\t<span class="teaser-content">'+n(u(t&&t.rooms&&t.rooms[e]&&t.rooms[e].teaser&&t.rooms[e].teaser.content))+'</span>\n\t<span class="teaser-timestamp timeago pull-right" title="'+n(u(t&&t.rooms&&t.rooms[e]&&t.rooms[e].teaser&&t.rooms[e].teaser.timestampISO))+'"></span>\n</li>\n'},function(){return""})}},t});