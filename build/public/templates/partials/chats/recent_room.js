!function(s){"object"==typeof module&&module.exports?module.exports=s():"function"==typeof define&&define.amd&&define(s)}(function(){function r(e,m,t,s,o){return'<li component="chat/recent/room" data-roomid="'+e.__escape(t(m&&m.rooms&&m.rooms.roomId))+'" class="'+(t(m&&m.rooms&&m.rooms.unread)?"unread":"")+'">\n\t<strong class="room-name">\n\t\t'+(t(m&&m.rooms&&m.rooms.lastUser&&m.rooms.lastUser.uid)?'\n\t\t<span component="chat/title">'+(t(m&&m.rooms&&m.rooms.roomName)?e.__escape(t(m&&m.rooms&&m.rooms.roomName)):e.__escape(t(m&&m.rooms&&m.rooms.usernames)))+"</span>\n\t\t":"\n\t\t<span>[[modules:chat.no-users-in-room]]</span>\n\t\t")+'\n\t</strong>\n\t<div class="avatar-placeholder"></div>\n\t'+s(t(m&&m.rooms&&m.rooms.users),function(s,o,r){return"\n\t"+(0===o?'\n\t<div class="main-avatar">\n\t\t<a href="'+e.__escape(t(m&&m.config&&m.config.relative_path))+"/user/"+e.__escape(t(m&&m.rooms&&m.rooms.users&&m.rooms.users[s]&&m.rooms.users[s].userslug))+'">\n\t'+(t(m&&m.rooms&&m.rooms.users&&m.rooms.users[s]&&m.rooms.users[s].picture)?'\n\t<img class="user-img avatar avatar-sm avatar-rounded" src="'+e.__escape(t(m&&m.rooms&&m.rooms.users&&m.rooms.users[s]&&m.rooms.users[s].picture))+'" title="'+e.__escape(t(m&&m.rooms&&m.rooms.users&&m.rooms.users[s]&&m.rooms.users[s].username))+'">\n\t':'\n\t<div class="user-img avatar avatar-sm avatar-rounded" title="'+e.__escape(t(m&&m.rooms&&m.rooms.users&&m.rooms.users[s]&&m.rooms.users[s].username))+'" style="background-color: '+e.__escape(t(m&&m.rooms&&m.rooms.users&&m.rooms.users[s]&&m.rooms.users[s]["icon:bgColor"]))+';">'+e.__escape(t(m&&m.rooms&&m.rooms.users&&m.rooms.users[s]&&m.rooms.users[s]["icon:text"]))+"</div>\n\t")+"\n</a>\n\t</div>\n\t":"")+"\n\t"})+'\n\n\t<ul class="members">\n\t\t'+r.blocks["rooms.users"](e,m,t,s,o)+"\n\t</ul>\n</li>"}return r.blocks={"rooms.users":function(e,m,t,s,o){return s(t(m&&m.rooms&&m.rooms.users),function(s,o,r){return'\n\t\t<li>\n\t\t\t<a href="'+e.__escape(t(m&&m.config&&m.config.relative_path))+"/user/"+e.__escape(t(m&&m.rooms&&m.rooms.users&&m.rooms.users[s]&&m.rooms.users[s].userslug))+'">\n\t'+(t(m&&m.rooms&&m.rooms.users&&m.rooms.users[s]&&m.rooms.users[s].picture)?'\n\t<img class="user-img avatar avatar-sm avatar-rounded" src="'+e.__escape(t(m&&m.rooms&&m.rooms.users&&m.rooms.users[s]&&m.rooms.users[s].picture))+'" title="'+e.__escape(t(m&&m.rooms&&m.rooms.users&&m.rooms.users[s]&&m.rooms.users[s].username))+'">\n\t':'\n\t<div class="user-img avatar avatar-sm avatar-rounded" title="'+e.__escape(t(m&&m.rooms&&m.rooms.users&&m.rooms.users[s]&&m.rooms.users[s].username))+'" style="background-color: '+e.__escape(t(m&&m.rooms&&m.rooms.users&&m.rooms.users[s]&&m.rooms.users[s]["icon:bgColor"]))+';">'+e.__escape(t(m&&m.rooms&&m.rooms.users&&m.rooms.users[s]&&m.rooms.users[s]["icon:text"]))+"</div>\n\t")+"\n</a>\n\t\t</li>\n\t\t"})}},r});