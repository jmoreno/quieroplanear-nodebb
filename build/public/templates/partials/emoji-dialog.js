!function(e){"object"==typeof module&&module.exports?module.exports=e():"function"==typeof define&&define.amd&&define(e)}(function(){function s(n,i,o,e,a){return'<div class="emoji-dialog" id="emoji-dialog">\n  <div class="emoji-tabs">\n    <div class="top-bar"></div>\n    \n    <div class="emoji-dialog-search-container">\n      <input type="text" class="form-control emoji-dialog-search" placeholder="[[emoji:search.placeholder]]">\n      \n      <button type="button" class="close form-control" data-dismiss="modal" aria-label="[[global:close]]">\n        <span aria-hidden="true">&times;</span>\n      </button>\n    </div>\n      \n    <ul class="nav nav-tabs" role="tablist">\n      <li role="presentation" class="emoji-dialog-search-results hidden">\n        <a href="#emoji-tab-search" aria-controls="search" role="tab" data-toggle="tab" data-ajaxify="false">\n          [[emoji:search.results]]\n        </a>\n      </li>\n\n      '+e(o(i&&i.categories),function(e,a,s){return'\n      <li role="presentation" class="'+(0===a?"active":"")+'">\n        <a href="#emoji-tab-'+n.__escape(o(i&&i.categories&&i.categories[e]&&i.categories[e].name))+'" aria-controls="'+n.__escape(o(i&&i.categories&&i.categories[e]&&i.categories[e].name))+'" role="tab" data-toggle="tab" data-ajaxify="false">\n          [[emoji:categories.'+n.__escape(o(i&&i.categories&&i.categories[e]&&i.categories[e].name))+"]]\n        </a>\n      </li>\n      "})+'\n\n      <li role="presentation">\n        <button href="#emoji-tab-legal" class="btn btn-info" aria-controls="legal" role="tab" data-toggle="tab" data-ajaxify="false">\n          [[emoji:modal.legal]]\n        </button>\n      </li>\n    </ul>\n\n    \x3c!-- Tab panes --\x3e\n    <div class="tab-content">\n      <div role="tabpanel" class="tab-pane emoji-dialog-search-results hidden" id="emoji-tab-search">\n        \x3c!-- search results emoji go here --\x3e\n      </div>\n\n      '+s.blocks.categories(n,i,o,e,a)+'\n\n      <div role="tabpanel" class="tab-pane" id="emoji-tab-legal">\n        <div class="col-xs-12">\n          <p class="lead">\n            [[emoji:modal.legal.header]]\n          </p>\n        </div>\n        '+s.blocks.packs(n,i,o,e,a)+"\n      </div>\n    </div>\n  </div>\n</div>\n"}return s.blocks={packs:function(n,i,o,e,a){return e(o(i&&i.packs),function(e,a,s){return'\n        <div class="col-xs-12">\n          <h3>[[emoji:modal.legal.set.header, '+n.__escape(o(i&&i.packs&&i.packs[e]&&i.packs[e].name))+", "+n.__escape(o(i&&i.packs&&i.packs[e]&&i.packs[e].id))+"]]</h3>\n\n          "+(o(i&&i.packs&&i.packs[e]&&i.packs[e].attribution)?'\n          <h4>[[emoji:modal.legal.set.attribution]]</h4>\n          <div class="well">\n            '+n.__escape(o(i&&i.packs&&i.packs[e]&&i.packs[e].attribution))+"\n          </div>\n          ":"")+"\n\n          "+(o(i&&i.packs&&i.packs[e]&&i.packs[e].license)?'\n          <h4>[[emoji:modal.legal.set.license]]</h4>\n          <div class="well">\n            '+n.__escape(o(i&&i.packs&&i.packs[e]&&i.packs[e].license))+"\n          </div>\n          ":"")+"\n        </div>\n        "})},categories:function(i,o,t,s,e){return s(t(o&&o.categories),function(n,e,a){return'\n      <div role="tabpanel" class="tab-pane '+(0===e?"active":"")+'" id="emoji-tab-'+i.__escape(t(o&&o.categories&&o.categories[n]&&o.categories[n].name))+'">\n        '+(t(o&&o.categories&&o.categories[n]&&o.categories[n].emojis)?s(t(o&&o.categories&&o.categories[n]&&o.categories[n].emojis),function(e,a,s){return'\n        <a class="emoji-link" name="'+i.__escape(t(o&&o.categories&&o.categories[n]&&o.categories[n].emojis&&o.categories[n].emojis[e]&&o.categories[n].emojis[e].name))+'" href="#">'+i.__escape(t(o&&o.categories&&o.categories[n]&&o.categories[n].emojis&&o.categories[n].emojis[e]&&o.categories[n].emojis[e].html))+"</a>\n        "}):s(t(o&&o.emojis),function(e,a,s){return'\n        <a class="emoji-link" name="'+i.__escape(t(o&&o.emojis&&o.emojis[e]&&o.emojis[e].name))+'" href="#">'+i.__escape(t(o&&o.emojis&&o.emojis[e]&&o.emojis[e].html))+"</a>\n        "}))+"\n      </div>\n      "})}},s});